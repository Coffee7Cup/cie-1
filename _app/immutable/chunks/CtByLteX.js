import{F as x,w as A,x as n,y as D,G as p,H as g,B,A as H,D as c,C as L,q as S,I as v,J as E,m as T,K as q,L as G,M,N as O,O as R,U}from"./DKuA-X_T.js";const b=0,_=1;function F(y,k,m,r,l){n&&D();var h=x(),t=U,i=h?E(t):T(t,!1,!1),f=h?E(t):T(t,!1,!1),s=new L(y);A(()=>{var u=k(),I=!1;let N=n&&p(u)===(y.data===g);if(N&&(B(H()),c(!1)),p(u)){var w=q(),d=!1;const a=e=>{if(!I){d=!0,w(!1),G.ensure(),n&&c(!1);try{e()}finally{M(),O||R()}}};u.then(e=>{a(()=>{v(i,e),s.ensure(_,r&&(o=>r(o,i)))})},e=>{a(()=>{if(v(f,e),s.ensure(_,l&&(o=>l(o,f))),!l)throw f.v})}),n?s.ensure(b,m):S(()=>{d||a(()=>{s.ensure(b,m)})})}else v(i,u),s.ensure(_,r&&(a=>r(a,i)));return N&&c(!0),()=>{I=!0}})}export{F as a};
