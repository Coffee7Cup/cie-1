import{G as D,x as g,I as p,q as w,J as c,K as E,m as T,D as A,L as B,M as H,N as L,O as S,P as q,y as n,F as v,U as G,z as M,H as O,C as P,B as R}from"./BFJF6Y-z.js";const b=0,_=1;function z(y,k,m,r,l){n&&M();var h=D(),t=G,i=h?E(t):T(t,!1,!1),f=h?E(t):T(t,!1,!1),s=new A(y);g(()=>{var u=k(),I=!1;let N=n&&p(u)===(y.data===O);if(N&&(P(R()),v(!1)),p(u)){var x=B(),d=!1;const a=e=>{if(!I){d=!0,x(!1),H.ensure(),n&&v(!1);try{e()}finally{L(),S||q()}}};u.then(e=>{a(()=>{c(i,e),s.ensure(_,r&&(o=>r(o,i)))})},e=>{a(()=>{if(c(f,e),s.ensure(_,l&&(o=>l(o,f))),!l)throw f.v})}),n?s.ensure(b,m):w(()=>{d||a(()=>{s.ensure(b,m)})})}else c(i,u),s.ensure(_,r&&(a=>r(a,i)));return N&&v(!0),()=>{I=!0}})}export{z as a};
