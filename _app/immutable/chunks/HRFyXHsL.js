import{x as m,J as w,T as h,K as C,d as v,y as b,i as d,u as y,az as A,z as M,e as S,k as E,aA as F,aB as D,Z as T,ak as j,j as z,aC as B,aD as N,aE as l,ad as O,aF as P,a2 as g,ab as c,F as R,aG as k,at as J,a6 as _,aH as K,aI as U,aJ as $,aK as q,aL as G,aM as H,aN as I,aO as L,a5 as Z}from"./DcxPiojc.js";import{h as Q,m as V,u as W}from"./BGX0iPJI.js";class X{anchor;#t=new Map;#s=new Map;#e=new Map;#a=new Set;#n=!0;constructor(e,s=!0){this.anchor=e,this.#n=s}#r=()=>{var e=m;if(this.#t.has(e)){var s=this.#t.get(e),n=this.#s.get(s);if(n)w(n),this.#a.delete(s);else{var t=this.#e.get(s);t&&(this.#s.set(s,t.effect),this.#e.delete(s),t.fragment.lastChild.remove(),this.anchor.before(t.fragment),n=t.effect)}for(const[r,i]of this.#t){if(this.#t.delete(r),r===e)break;const o=this.#e.get(i);o&&(h(o.effect),this.#e.delete(i))}for(const[r,i]of this.#s){if(r===s||this.#a.has(r))continue;const o=()=>{if(Array.from(this.#t.values()).includes(r)){var u=document.createDocumentFragment();A(i,u),u.append(v()),this.#e.set(r,{effect:i,fragment:u})}else h(i);this.#a.delete(r),this.#s.delete(r)};this.#n||!n?(this.#a.add(r),C(i,o,!1)):o()}}};#i=e=>{this.#t.delete(e);const s=Array.from(this.#t.values());for(const[n,t]of this.#e)s.includes(n)||(h(t.effect),this.#e.delete(n))};ensure(e,s){var n=m,t=M();if(s&&!this.#s.has(e)&&!this.#e.has(e))if(t){var r=document.createDocumentFragment(),i=v();r.append(i),this.#e.set(e,{effect:b(()=>s(i)),fragment:r})}else this.#s.set(e,b(()=>s(this.anchor)));if(this.#t.set(n,e),t){for(const[o,f]of this.#s)o===e?n.skipped_effects.delete(f):n.skipped_effects.add(f);for(const[o,f]of this.#e)o===e?n.skipped_effects.delete(f.effect):n.skipped_effects.add(f.effect);n.oncommit(this.#r),n.ondiscard(this.#i)}else d&&(this.anchor=y),this.#r()}}function fe(a,e,...s){var n=new X(a);S(()=>{const t=e()??null;n.ensure(t,t&&(r=>t(r,...s)))},j)}function Y(a){return(e,...s)=>{var n=a(...s),t;if(d)t=y,E();else{var r=n.render().trim(),i=F(r);t=z(i),e.before(t)}const o=n.setup?.(t);D(t,t),typeof o=="function"&&T(o)}}function ee(a,e){if(B(),d){const s=window.__svelte?.h;if(s?.has(a))return s.get(a);N()}return e()}function te(){return g===null&&P(),(g.ac??=new AbortController).signal}function x(a){c===null&&l(),J&&c.l!==null?p(c).m.push(a):O(()=>{const e=_(a);if(typeof e=="function")return e})}function se(a){c===null&&l(),x(()=>()=>_(a))}function ae(a,e,{bubbles:s=!1,cancelable:n=!1}={}){return new CustomEvent(a,{detail:e,bubbles:s,cancelable:n})}function ne(){const a=c;return a===null&&l(),(e,s,n)=>{const t=a.s.$$events?.[e];if(t){const r=R(t)?t.slice():[t],i=ae(e,s,n);for(const o of r)o.call(a.x,i);return!i.defaultPrevented}return!0}}function re(a){c===null&&l(),c.l===null&&k(),p(c).b.push(a)}function ie(a){c===null&&l(),c.l===null&&k(),p(c).a.push(a)}function p(a){var e=a.l;return e.u??={a:[],b:[],m:[]}}const le=Object.freeze(Object.defineProperty({__proto__:null,afterUpdate:ie,beforeUpdate:re,createContext:K,createEventDispatcher:ne,createRawSnippet:Y,flushSync:U,fork:$,getAbortSignal:te,getAllContexts:q,getContext:G,hasContext:H,hydratable:ee,hydrate:Q,mount:V,onDestroy:se,onMount:x,setContext:I,settled:L,tick:Z,unmount:W,untrack:_},Symbol.toStringTag,{value:"Module"}));export{X as B,se as a,le as b,x as o,fe as s};
